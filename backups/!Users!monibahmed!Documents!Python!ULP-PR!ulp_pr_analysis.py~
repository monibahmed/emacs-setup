
# This is the analysis of the ULP-PR
# (C) AviorPower

import matplotlib.pyplot as plt
import numpy as np

# The equation functions
# Format is VarName1XVarName2,
# this returns VarName2 for a given VarName1


def IappXIlpk(Iapp):
    return (Iapp + (Iapp**2 + 2 * (Vapp * (Vin - Vapp) * C * Vrpl) / (L * Vin))**(1 / 2))


# Inputs
L = 15e-9
C = 220e-9
Vin = 3.6
Vapp = 1.5
Vrpl = 0.020
Iapp = 0.100


# Equations
# iLPK   = iAPP+sqrt( iAPP.^2 + (2*Vapp*(Vin-Vapp)*C*vRplc)/(L*Vin) );
# tCHL   = iLPK*L./(Vin-Vapp);
# tDCHL  = iLPK*L./Vapp;
# tCHC   = tCHL+tDCHL;
# tDCHCc  = C*vRplc./iAPP;


# X-axis is Iapp
Iapp_range = np.arange(1e-6, Iapp, 1e-6)

plt.plot(Iapp_range, IappXIlpk(Iapp_range))
plt.show()


# tCHL =
